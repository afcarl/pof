% model_pca.tex
%
% Copyright (C) 2012 Jaakko Luttinen
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU General Public License.
%
% See the files LICENSE_LPPL and LICENSE_GPL for more details.

% PCA model

%\beginpgfgraphicnamed{model-pca}
\begin{tikzpicture}

  % Define nodes
\node[obs] 			(x) {$\bm{x}_t$};
\node[latent, right=0.7cm of x]  (c) {$c$};
\node[latent, above=0.7cm of x]   (h) {$\bm{h}_t$};
\node[latent, left=0.7cm of x]       (w) {$\bm{w}_k$};
\node[latent, below=0.5cm of w]  (t)  {$\theta_k$};
\node[latent, above=0.7cm of w]  (a) {$\bm{a}_k$};
\node[const, above=0.5cm of a]  (alpha) {$\bm{\alpha}$};
\node[const, left=0.7cm of w]      (u)  {$\mathbf{U, \bm{\gamma}}$};

  % Connect the nodes
\edge{c} {x};
\edge {h} {x};
\edge {w} {x};
\edge {t} {x};
\edge {a} {w};
\edge {alpha} {a};
\edge {u} {w};

  % Plates
  %\plate {yx} {(x)(y)} {$N$} ;
%  \plate {wa} {(w)(a)} {$T$};
%  \plate {au} {(alpha)(u)} {$L$};
%  \plate {sigma} {(s)} {$F$};
  %\plate {} {(d)(y)(yx.north west)(yx.south west)} {$T$} ;
\plate {hx} {(x)(h)} {$T$};
\plate {twa} {(t)(w)(a)} {$K$};

\end{tikzpicture}
%\endpgfgraphicnamed

